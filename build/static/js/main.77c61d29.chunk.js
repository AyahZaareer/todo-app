(this["webpackJsonpclass-32-solution-todo"]=this["webpackJsonpclass-32-solution-todo"]||[]).push([[0],{296:function(e,t){},298:function(e,t){},312:function(e,t){},314:function(e,t){},342:function(e,t){},344:function(e,t){},345:function(e,t){},350:function(e,t){},352:function(e,t){},358:function(e,t){},360:function(e,t){},379:function(e,t){},391:function(e,t){},394:function(e,t){},417:function(e,t){},423:function(e,t,n){"use strict";n.r(t);var c=n(179),a=n(180),r=n(187),i=n(185),s=n(0),o=n.n(s),l=n(14),u=n.n(l),d=n(9),j=(n(95),n(244),n(245),n(427)),b=n(24),p=n(186),m=n(12),g=n.n(m),h=n(57),f=n(91),O=n(20),x=n(22),y=n.n(x),v=n(428),w=n(1),C=o.a.createContext();var k=function(e){var t=Object(s.useState)([]),n=Object(d.a)(t,2),c=n[0],a=n[1],r=Object(s.useState)({}),i=Object(d.a)(r,2),o=i[0],l=i[1],u=Object(s.useState)(),j=Object(d.a)(u,2),b=j[0],m=j[1],x=Object(s.useState)("on"),k=Object(d.a)(x,2),S=k[0],I=k[1],N=Object(s.useState)([]),E=Object(d.a)(N,2),D=E[0],L=E[1],T="https://api-js401.herokuapp.com/api/v1/todo";function P(){return(P=Object(O.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&t.preventDefault(),o.id=Object(v.a)(),o.complete=!1,console.log(o),[].concat(Object(p.a)(c),[o]),n={complete:o.complete,difficulty:o.difficulty,id:o.id,text:o.text,assignee:o.assignee},e.next=8,y.a.post(T,n);case 8:return e.sent,e.next=11,y.a.get(T);case 11:r=e.sent.data.results,console.log(r),a(r);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=function(){var e=Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get(T);case 2:t=e.sent.data.results,a(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(O.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return JSON.parse(localStorage.getItem("itemNumber"))&&m(Number(JSON.parse(localStorage.getItem("itemNumber")))),e.abrupt("return",(function(){var e=Number(JSON.parse(localStorage.getItem("itemNumber")));m(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function J(){return(J=Object(O.a)(g.a.mark((function e(t){var n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.complete=!t.complete,n={complete:t.complete},e.next=4,y.a.put("".concat(T,"/").concat(t._id),n);case 4:return e.sent,e.next=7,y.a.get(T);case 7:c=e.sent.data.results,a(c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(O.a)(g.a.mark((function e(t){var n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("".concat(T,"/").concat(t));case 2:return n=e.sent,console.log(n),e.next=6,y.a.get(T);case 6:c=e.sent.data.results,console.log(c),a(c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)(Object(O.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A().then((function(){console.log("done")})),R().then((function(){console.log("done")})),e.next=4,y.a.get(T);case 4:t=e.sent.data.results,a(t);case 6:case"end":return e.stop()}}),e)}))),[]),Object(w.jsx)(C.Provider,{value:{list:c,handleSubmit:function(e){return P.apply(this,arguments)},handleChange:function(e){console.log(e.target.value,"kkkkkk"),l((function(t){return Object(f.a)(Object(f.a)({},t),{},Object(h.a)({},e.target.name,e.target.value))}))},toggleComplete:function(e){return J.apply(this,arguments)},handlePaginationChange:function(e){localStorage.setItem("itemNumber",JSON.stringify(e.target.value)),m(JSON.parse(localStorage.getItem("itemNumber")))},a:S,setA:I,deleteItem:function(e){return W.apply(this,arguments)},itemNumber:b,setItemNumber:m,setList:a,displayComplete:function(){L(D===c?function(){return D.filter((function(e){return!0!==e.complete}))}:c),I(D===c?"off":"on")},done:D,setDone:L},children:e.children})};var S=function(e){var t=Object(s.useContext)(C),n=t.list,c=t.toggleComplete,a=t.deleteItem,r=t.itemNumber,i=t.handlePaginationChange,o=t.displayComplete,l=t.done,u=t.setDone,p=t.a,m=Object(s.useState)(0),g=Object(d.a)(m,2),h=g[0],f=g[1],O=Object(s.useState)(r),x=Object(d.a)(O,2),y=x[0],v=x[1];Object(s.useEffect)((function(){f(0),v(r)}),[r]),Object(s.useEffect)((function(){u(n)}),[n]);var k=l.slice(h,y).map((function(e,t){var n;return n=e.difficulty>7?"hard":e.difficulty>5&&e.difficulty<=7?"medium":"easy",Object(w.jsxs)(j.b,{style:{width:"30rem",margin:"1rem"},interactive:!0,elevation:b.a.TWO,children:[Object(w.jsxs)("h3",{style:{backgroundColor:"#3397a5",display:"center",justifyContent:"space-between",alignItems:"center",weidth:"20rem"},children:["List : ",e.text]}),Object(w.jsxs)("h4",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",weidth:"20rem"},children:["Assigned to: ",e.assignee]}),Object(w.jsxs)("h4",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",weidth:"20rem"},children:["difficulty : ",n]}),Object(w.jsx)(j.a,{style:{display:"center",justifyContent:"space-between",alignItems:"center",weidth:"20rem",margin:"1rem"},className:"btn",onClick:function(){return c(e)},children:e.complete?"complete":"incomplete"}),Object(w.jsx)(j.a,{style:{background:"#d41010",weidth:"20rem",margin:"1rem"},className:"btn",onClick:function(){return a(e._id)},children:"Delete"})]})}));return Object(w.jsxs)("div",{style:{textAlign:"center",marginTop:"100px"},children:[Object(w.jsxs)(j.e,{children:[Object(w.jsx)(j.e,{style:{weidth:"20rem",margin:"1rem",marginRight:"60rem",fontWeight:"bolder"},children:" Change Items Per Page"}),Object(w.jsx)("input",{style:{weidth:"20rem",margin:"1rem",marginRight:"60rem"},onChange:i,defaultValue:y,type:"text",min:1,max:5,name:"items-per-page"})]}),Object(w.jsx)("button",{style:{marginRight:"20rem",weidth:"20rem"},className:p,onClick:o,children:"incomplete"}),Object(w.jsx)("ul",{children:k}),Object(w.jsx)(j.a,{style:{background:"#3d7b92",weidth:"20rem",margin:"1rem"},onClick:function(){h>0&&(f(h-r),v(y-r))},children:" Previous "}),Object(w.jsx)(j.a,{style:{background:"#3d7b92",weidth:"20rem",margin:"1rem"},onClick:function(){return f(h+r),void v(y+r)},children:" Next "})]})},I=function(e){var t=Object(s.useContext)(C),n=t.handleSubmit,c=t.handleChange,a=Object(s.useState)([]),r=Object(d.a)(a,2),i=r[0],o=r[1],l=Object(s.useContext)(C);return Object(s.useEffect)((function(){var e=l.list.filter((function(e){return!e.complete})).length;o(e),document.title="To Do List: ".concat(i)}),[l.list,i]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("h1",{style:{margin:"2rem",display:"center",justifyContent:"space-between",alignItems:"center"},children:[i," items pending"]}),Object(w.jsx)("card",{style:{display:"center",justifyContent:"space-between",alignItems:"center",weidth:"20rem",margin:"3rem"},className:"app",children:Object(w.jsxs)(j.c,{children:[Object(w.jsx)("h2",{intent:"danger",children:"Add ToDo Item"}),Object(w.jsxs)(j.e,{intent:"danger",children:[Object(w.jsx)("span",{style:{padding:"1rem",display:"center",justifyContent:"space-between",alignItems:"center",weidth:"20rem",fontWeight:"bold"},children:"ToDo Item"}),Object(w.jsx)(j.d,{onChange:c,name:"text",type:"text",placeholder:"Item Details",intent:"danger",autoComplete:"off"})]}),Object(w.jsxs)(j.e,{intent:"danger",children:[Object(w.jsx)("span",{style:{padding:"1rem",fontWeight:"bold",display:"center",justifyContent:"space-between",alignItems:"center",weidth:"20rem"},children:"Assigned To"}),Object(w.jsx)(j.d,{onChange:c,name:"assignee",type:"text",placeholder:"Assignee Name",intent:"danger",autoComplete:"off"})]}),Object(w.jsxs)(j.e,{style:{padding:"1rem",fontWeight:"bold",display:"center",justifyContent:"space-between",alignItems:"center",weidth:"20rem"},children:[Object(w.jsx)("span",{children:"Difficulty"}),Object(w.jsx)("input",{onChange:c,defaultValue:5,type:"range",min:1,max:10,name:"difficulty",intent:"danger",class:"range"})]}),Object(w.jsx)(j.e,{children:Object(w.jsx)(j.a,{style:{backgroundColor:"#3397a5",display:"center",justifyContent:"space-between",alignItems:"center",weidth:"20rem"},className:"btn",type:"click",onClick:n,children:"Add Item"})})]})}),Object(w.jsx)(S,{})]})},N=n(59),E=n.n(N),D=n(184),L=n.n(D),T=n(94),P=n.n(T),R="https://auth-server-401.herokuapp.com",A=o.a.createContext();var J=function(e){var t=Object(s.useState)({}),n=Object(d.a)(t,2),c=n[0],a=n[1],r=Object(s.useState)(!1),i=Object(d.a)(r,2),o=i[0],l=i[1];function u(e){try{var t=L.a.decode(e);t&&j(!0,e,t)}catch(n){j(!1,null,{}),console.log("Token Validation Error ".concat(n.message))}}function j(e,t,n){E.a.save("auth",t),a({user:n}),l(e),console.log("logged",e)}function b(){return(b=Object(O.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.post("".concat(R,"/signin")).set("authorization","Basic ".concat(btoa("".concat(t,":").concat(n))));case 3:u(e.sent.body.token),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Signin Error",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function p(){return(p=Object(O.a)(g.a.mark((function e(t,n,c,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("val-Signup",n),e.prev=1,e.next=4,P.a.post("".concat(R,"/signup"),{email:t,username:n,password:c,role:a});case 4:u(e.sent.body.token),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Signup Error",e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}Object(s.useEffect)((function(){u(E.a.load("auth"))}),[]);var m={loggedIn:o,user:c,setLoggedIn:l,login:function(e,t){return b.apply(this,arguments)},signup:function(e,t,n,c){return p.apply(this,arguments)},logout:function(){!function(e,t){E.a.save("auth",null),a({user:t}),l(e)}(!1,{})},setUser:a};return Object(w.jsx)(A.Provider,{value:m,children:e.children})},W=n(15);var U=function(e){var t=Object(s.useContext)(A),n=Object(s.useState)(""),c=Object(d.a)(n,2),a=c[0],r=c[1],i=Object(s.useState)(""),o=Object(d.a)(i,2),l=o[0],u=o[1],j=Object(s.useState)(""),b=Object(d.a)(j,2),p=b[0],m=(b[1],Object(s.useState)("user")),g=Object(d.a)(m,2),h=g[0],f=g[1];return Object(w.jsxs)(W.b,{condition:t.loggedIn,children:[Object(w.jsx)(W.c,{children:Object(w.jsx)("div",{})}),Object(w.jsx)(W.a,{children:Object(w.jsxs)("form",{style:{marginLeft:"50px"},children:[Object(w.jsx)("input",{type:"text",name:"username",placeholder:"Enter Username",onChange:function(e){r(e.target.value)},style:{borderRadius:"5px",width:"120px",margin:"13px"}}),Object(w.jsx)("input",{type:"password",name:"password",placeholder:"Enter password",onChange:function(e){u(e.target.value)},style:{borderRadius:"5px",width:"120px",margin:"13px"}}),Object(w.jsxs)("select",{name:"roles",id:"roles",onChange:function(e){f(e.target.value)},style:{borderRadius:"5px",height:"25px",marginRight:"20px"},children:[Object(w.jsx)("option",{value:"user",children:"user"}),Object(w.jsx)("option",{value:"editor",children:"editor"})," ",Object(w.jsx)("option",{value:"admin",children:"admin"})]}),Object(w.jsx)("button",{style:{borderRadius:"5px",width:"70px",height:"30px"},onClick:function(e){e.preventDefault(),t.signup(p,a,l,h),console.log("signup",t)},children:"SignUp"})]})})]})};var F=function(e){var t=Object(s.useContext)(A);console.log("auth/Cont",A);var n=!(!t.loggedIn||!e.capability)&&t.user.capabilities.includes(e.capability);return Object(w.jsx)("div",{children:Object(w.jsx)(W.b,{condition:n,children:Object(w.jsx)("div",{children:e.children})})})},V=n(44);var B=function(e){var t=Object(s.useContext)(A),n=Object(s.useState)(""),c=Object(d.a)(n,2),a=c[0],r=c[1],i=Object(s.useState)(""),o=Object(d.a)(i,2),l=o[0],u=o[1];return console.log("loginnnnnnnn",t.loggedIn),Object(w.jsx)("div",{children:Object(w.jsxs)(W.b,{condition:t.loggedIn,children:[Object(w.jsx)(W.c,{children:Object(w.jsx)(j.a,{intent:"danger",onClick:t.logout,style:{"margin-left":"1171px","margin-top":"18px"},children:"Logout"})}),Object(w.jsx)(W.a,{children:Object(w.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t.login(a,l)},style:{width:"28rem","margin-left":"auto","margin-top":"0px","padding-top":"11px"},children:[Object(w.jsx)("input",{type:"text",name:"username",placeholder:"Enter Username",onChange:function(e){r(e.target.value)}}),Object(w.jsx)("input",{type:"password",name:"password",placeholder:"Enter Password",onChange:function(e){u(e.target.value)}}),Object(w.jsx)(j.a,{intent:"danger",children:"Login"})]})})]})})};var H=function(e){return Object(w.jsx)(j.f,{style:{backgroundColor:"#3397a5",display:"center",justifyContent:"space-between",alignItems:"center"},children:Object(w.jsxs)(j.f.Group,{align:V.a.LEFT,children:[Object(w.jsx)(j.f.Heading,{children:"To Do List"}),Object(w.jsx)(j.f.Divider,{}),Object(w.jsx)(j.a,{className:"bp3-minimal",icon:"home",text:"Home"}),Object(w.jsx)(U,{}),Object(w.jsx)(B,{})]})})},_=function(){return Object(w.jsx)(F,{capability:"delete",children:Object(w.jsx)("span",{children:"Delete"})})},z=function(){return Object(w.jsx)(F,{capability:"update",children:Object(w.jsx)("span",{children:"Edit"})})};var G=function(e){return Object(s.useContext)(A),console.log("app/context",e),Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(J,{children:[Object(w.jsx)(H,{}),Object(w.jsx)(W.b,{condition:A.loggedIn,children:Object(w.jsxs)(k,{children:[Object(w.jsx)(W.c,{children:Object(w.jsxs)(k,{children:[Object(w.jsx)(z,{}),Object(w.jsx)(_,{}),Object(w.jsx)(I,{})]})}),Object(w.jsx)(W.a,{children:Object(w.jsx)("div",{})})]})})]})})},q=function(e){Object(r.a)(n,e);var t=Object(i.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(w.jsx)(G,{})}}]),n}(o.a.Component),K=document.getElementById("root");u.a.render(Object(w.jsx)(q,{}),K)},95:function(e,t,n){}},[[423,1,2]]]);
//# sourceMappingURL=main.77c61d29.chunk.js.map